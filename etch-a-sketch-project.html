<html>
<head>
  <title>Page Title</title>
  <meta charset="UTF-8"/>
  <link rel="stylesheet" href="grid-test.css">
</head>
<body> 
   <script>
function mouseoverMainDiv(event){

}

let mainDiv =document.createElement('div');
mainDiv.classList.add('grid')
mainDiv.textContent="";

for (i=0;i<16*16;i++){
 let tempDiv=document.createElement('div')
 tempDiv.textContent=i;
 //tempDiv.style.display='none'
  mainDiv.appendChild(tempDiv)
 } 
 //test propagation
/*  mainDiv.addEventListener("click", (e)=> {
let span=document.createElement('span')
span.textContent="Je suis une span";
mainDiv.appendChild(span);
 })
  */
function mumu (eTarget, Node){
if (eTarget===Node) Node.classList.add('bk-gd-red');
}

let gridNode=mainDiv.querySelectorAll('div');
mainDiv.addEventListener("mouseover",  (event)=>{
  gridNode.forEach( (div) => {
      mumu(event.target, div) 
  })
})

/* let gridNode=mainDiv.querySelectorAll('div');
mainDiv.addEventListener("mouseover",  ()=> {
  gridNode.forEach( div => {
    if (event.target===div) div.classList.add('bk-gd-red');
  }) 
}) */



//mainDiv.removeEventListener('click', dada());
document.body.appendChild(mainDiv)
let newbutton=document.createElement('button')
newbutton.textContent="reset"
document.body.insertBefore(newbutton, mainDiv);

newbutton.addEventListener('click', (e)=>{
 gridNode.forEach(div => 
 div.classList.remove('bk-gd-red'));
 let newRows=prompt('How many square per side?')
 mainDiv.style.gridTemplateColumns= `repeat( ${newRows},1fr)`
 mainDiv.removeEventListener('mouseover', msovToRed)

})





/* 

    let stylet =document.createElement('style');
    stylet.textContent= ".mumu  { \n display: grid; \nbackground-color: red;}";
    document.head.appendChild(stylet)
    document.body.classList.add('mumu')
    stylet.insertRule('mumu {font-color: blue;}',0)
  let grille =document.createElement('div')
  grille.classList.add('.playing="background-color="blue"""')
    console.log("Hello, World!") */
  </script>
</body>
</html>